<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0"
    />
    <title>CSE412 Final Project</title>
    <meta property="og:title" content="CSE412 Final Project" />
    <meta charset="utf-8" />
    <meta property="og:type" content="article" />

    <meta property="og:description" content="Bike Sharing in DC" />
    <meta property="description" content="Bike Sharing in DC" />

    <link rel="stylesheet" href="static/idyll_styles.css" />
  </head>
  <body>
    <div id="idyll-mount"><div data-reactroot=""><div class="idyll-root"><div class=" idyll-text-container"></div><div class="article-header" style="background:#1f2833;color:#ffffff"><h1 class="hed">Bike Sharing in DC</h1><h2 class="dek">exploring bike sharing data from the last decade</h2><div class="byline">By: <a target="_blank" href="
  https://courses.cs.washington.edu/courses/cse412/21sp/index.html" style="color:#ffffff">Nadia Domnina, Nathaniel Marcuson, Olivia H, Frank Wu, Ashina Agarwal</a></div><div class="idyll-pub-date">May 17, 2021</div></div><div class=" idyll-text-container"><span class="aside-container"><span class="aside"><img src="./static/images/place.png" alt="Placeholder"/></span></span><h2 id="background">Background</h2><p>Over the last 10 years bike sharing has become more and more popular in big cities, specifically in Washington DC. By exploring several datasets about the DC BikeShare program regarding the use of these bikes, we hope to gain more insight into when and where they are most used. Through these findings, decisions can be made on where to best place  bikes and what other cities would most benefit from the introduction of the bike share system. We plan to create a geographical mapping of the trips being taken in order to give viewers a good sense of which stations are the most popular starting points and destinations. We also plan on making animated time series charts showing the monthly and yearly trends in overall usage, and pairing these trends with weather data</p><span class="aside-container"><span class="aside"><img src="./static/images/ex2.jpg" alt="Placeholder"/></span></span><h2 id="popular-starting-points-and-destinations">Popular Starting Points and Destinations</h2><p>We collected data from the DC BikeShare website on all the bike rides that have happenned between 2010 and 2017. This data included the start and end destinations of each ride. In this section of our analysis, we aggregated the data to count the total number of rides starting and ending at each bike station. With the help of these maps, we can see the most popular origin points and destinations within the capital.</p><h3 id="starting-points">Starting Points</h3><p>The following map displays the locations from which bike rides begin.</p><p>(It will be much more interesting once the data also includes the station names)</p></div><div class="fullWidth"><iframe src="https://public.tableau.com/views/StartStation/Sheet6?:language=en&amp;:display_count=y&amp;publish=yes&amp;:origin=viz_share_link:showVizHome=no&amp;:embed=true" width="100%" height="850"></iframe></div><div class=" idyll-text-container"><h5 id="insights">Insights</h5><ul><li>1<!-- -->.</li><li>2<!-- -->.</li><li>3<!-- -->.</li></ul><h3 id="destination-points">Destination Points</h3><p>In contrast, this map displays the locations where bike rides end.(It will be much more interesting once the data also includes the station names)</p></div><div class="fullWidth"><iframe src="https://public.tableau.com/views/StartStation/Sheet7?:language=en&amp;:display_count=y&amp;publish=yes&amp;:origin=viz_share_link:showVizHome=no&amp;:embed=true" width="100%" height="900"></iframe></div><div class=" idyll-text-container"><h5 id="insights">Insights</h5><ul><li>1<!-- -->.</li><li>2<!-- -->.</li><li>3<!-- -->.</li></ul><h3 id="most-popular-routes-and-their-times">Most Popular Routes and their Times</h3><p>We need to wrangle the data to calculate the number of rides from each location to another sepcific location for all locations. </p><p>Example: 56th station to 100th station: total rides: 1654, average time: 22 mins. You get the point.</p><p>Bar chart goes here </p><h5 id="insights">Insights</h5><ul><li>1<!-- -->.</li><li>2<!-- -->.</li><li>3<!-- -->.</li></ul><h2 id="monthly-trends-(not-done)">Monthly Trends (Not Done)</h2><p>The following chart shows bike usage over a span of a year. </p><iframe width="200%" height="500" frameBorder="0" src="https://observablehq.com/embed/@domnina/bike-viz?cells=plot"></iframe><h5 id="insights">Insights</h5><h2 id="hourly-trends-by-day-of-the-week">Hourly Trends by Day of the Week</h2><p><span>It’s workdays (blue) and non-workdays (purple), and a pretty expected pattern is shown. Next I’ll try to add some interaction and a legend. After I can get this done, and feel semi-okay with d3, I’m gonna try something like this to help us avoid line charts! <a href="https://observablehq.com/@d3/radial-stacked-bar-chart">https://observablehq.com/@d3/radial-stacked-bar-chart</a></span></p><p>^^ This will be so cool looking if you make it animated!!!</p><div style="width:100%"></div><h2 id="hourly-trends">Hourly Trends</h2><div style="width:100%"></div><h5 id="insights">Insights</h5><ul><li>1<!-- -->.</li><li>2<!-- -->.</li><li>3<!-- -->.</li></ul><h2 id="scroller-for-some-static-images-(unfinished)">Scroller for some static images (unfinished)</h2><p>Not sure what graphs we can even put here, out of ideas at the moment. But 3-4 different ones would be good, even if its the same graph but with different annotations ,bringing attention to different insights.</p><p>This can be moved up to a more relevant section as well</p></div><div class="idyll-scroll" id="idyll-scroll-0" style="position:relative"><div class="idyll-scroll-graphic" style="top:0;left:0;right:0;bottom:auto;width:100%;transform:translate3d(0, 0, 0);z-index:-1;height:0"><div style="width:0;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)"><div class="d3-component-container"><div class="d3-component" style="width:100%"></div></div></div></div><div class=" idyll-text-container"><div class="idyll-scroll-text"><div class="idyll-step "><p>
    This would be a good place to put some static visualizations. For example, jpg’s from Tableau. The scroller makes it more interesting than it is.
    Step <span class="idyll-display">0.00</span> <div style="display:inline-block"><div style="background:#1f2833;width:12px;height:12px" idyll="[object Object]"></div></div><img src="./static/images/monthly_ride_patterns.png" alt="Monthly Patterns"/></p></div><div class="idyll-step "><p>
    Step <span class="idyll-display">0.00</span><img src="./static/images/place.png" alt="Placeholder Image"/></p></div><div class="idyll-step "><p>
    Step <span class="idyll-display">0.00</span><img src="./static/images/place.png" alt="Placeholder Image"/></p></div></div></div></div><div class=" idyll-text-container"><h2 id="data-sources">Data Sources</h2><p>insert data sources here</p><h1 id="place-things-you-create-above-this-line.">PlACE THINGS YOU CREATE ABOVE THIS LINE.</h1><h2 id="we-will-delete-all-things-below-this-line-before-turning-in-our-draft!">we will DELETE all things below this line before turning in our draft<!-- -->!</h2><h3 id="embedding-visualizations">Embedding Visualizations</h3><p>We can easily embed images inline by including a short code snippet referencing an image file: <code>![example](./static/images/banner.png)</code></p><img src="./static/images/banner.png" alt="example"/><h4 id="specifying-data-for-dynamic-vega-lite-and-d3-visualizations">Specifying data for dynamic Vega-Lite and D<!-- -->3 <!-- -->visualizations</h4><p>First, we specify the data that will be used in the visualization with a short code snippet: <code>[data name:&quot;sunshine&quot; source:&quot;sunshine.json&quot; /]</code>. We will reference this dataset with the name <code>sunshine</code> when creating visualizations in Vega-Lite or D3.</p><h4 id="embedding-vega-lite-visualizations">Embedding Vega-Lite visualizations</h4><p>Idyll has support for embedding Vega-Lite visualizations to the page using a similar approach to the standard image. To get started, we need to first install Vega-Lite by running the command: <code>npm i --save idyll-vega-lite</code>. We can then embed a visualization as follows (see the <code>index.idyll</code> file for the actual code):</p><div></div><p>The main Vega-Lite component uses the JSON syntax, but you can also create Vega-Lite visualizations using the API as follows:</p><div></div><p>The main thing to note when using the API is that you must call <code>.toSpec()</code> at the end of your code in order to make the <code>IdyllVegaLite</code> component behave normally.</p><span style="color:#aaa;font-style:italic" idyll="[object Object]">Fun Fact: Using the <code>.toSpec()</code> function is an easy way to port visualizations from Observable to your final webpage. Develop your designs in Observable as normal, then copy the JSON specification as follows: <code>JSON.stringify(myVis.toSpec())</code>, where <code>myVis</code> is the name of the variable containing your visualization. The <code>JSON.stringify</code> function allows you to copy the text (string) version of the JSON object. Note that you may have to adjust the JSON spec slightly when adding it to the <code>IdyllVegaLite</code> component in order to import your data appropriately.</span><h4 id="embedding-d3-visualizations">Embedding D<!-- -->3 <!-- -->visualizations</h4><p>Idyll has a pre-supported component for rendering D3 visualizations; to create a visualization, you can write a new component that extends this custom class. To see how this work, take a look at the file <code>d3-sunshine</code> in the <code>components</code> directory. In essence, you will create a seperate custom D3 component for each visualization that you would like to create in D3 for your page.</p><p>I made the graph directly below, and added the idyll markdown so that the graph below that one (with the axes) would show up. It’s mean bike usage by hour of the day. ~ Nat</p><div style="width:100%"></div><div style="width:100%"></div><div style="width:100%"></div><h4 id="embedding-tableau-visualizations">Embedding Tableau visualizations</h4><p>If you look at the <code>index.idyll</code>, this is how you can embed Tableau visualizations:</p><iframe src="https://public.tableau.com/views/412demo/Sheet1?:showVizHome=no&amp;:embed=true" width="100%" height="400"></iframe><p><code>TableauEmbed</code> is a custom component defined in the file <code>tableau-embed.js</code>. You can similarly <a href="https://idyll-lang.org/docs/components/custom">create your own custom components</a> for other types of embeddings.</p><h4 id="embedding-observable-visualizations">Embedding Observable visualizations</h4><p>You can embed Observable visualizations as follows:</p></div><div class="fullWidth"><iframe width="100%" height="445" frameBorder="0" src="https://observablehq.com/embed/@cse412/cse-412-section-3-vega-lite?cells=horsepower_acceleration"></iframe></div><div class=" idyll-text-container"><p>The original visualization is on the larger side, so we can display it using a <code>FullWidth</code> component so that the visualization spans the whole width of our browser window. While you can customize the size of the embeded window, the size of the <em>visualizations</em> will be the same as the original Observable document.</p><span style="color:#aaa;font-style:italic" idyll="[object Object]">Note: If you don’t like having the Tableau or Observable branding on your page, consider porting the visualizations to Vega-Lite or D3. Interactions will also be smoother and more responsive for visualizations that have been ported over, rather than those that are embedded from a different website. When designing your narrative, think about how important the interactions are for communicating the main takeaways, and decide on a particular implementation accordingly.</span><h4 id="embedding-plotly-visualizations">Embedding Plotly visualizations</h4><p>Similar to the other embedded visualizations, you can embed interactive Plotly visualizations using the custom component <code>PlotlyEmbed</code>:</p></div><div class="fullWidth"><iframe scrolling="no" style="border:none" seamless="" src="https://plotly.com/~kmarathe/1.embed?showlink=false" height="800" width="100%"></iframe></div><div class=" idyll-text-container"><p>Note that the <code>width</code> and <code>height</code> parameters control the size of the <code>iframe</code> that is embedded in the page, <em>not</em> the visualization, so you will need to design your visualizations with Plotly accordingly, and test the page layout.</p><h3 id="changing-the-narrative-structure-and-page-layout">Changing the Narrative Structure and Page Layout</h3><span class="aside-container"><span class="aside"><div></div></span></span><p>The most straightforward (and default) style for a page is basic text like what we have used so far. Visualizations are embedded in place and are scrolled like a standard webpage. But with Idyll, we can do a lot more!</p><p>Take the Vega-Lite visualization from earlier, we can display it in the margin alongside the text by wrapping the code with the command <code>[Aside] ... [/Aside]</code>.</p><p>Perhaps you would like to try including a large image in the background, with text that scrolls by on top of it? With Idyll, that’s easy! Keep scrolling for an example...</p></div><div class="idyll-scroll" id="idyll-scroll-1" style="position:relative"><div class="idyll-scroll-graphic" style="top:0;left:0;right:0;bottom:auto;width:100%;transform:translate3d(0, 0, 0);z-index:-1;height:0"><div style="width:0;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)"><div><iframe src="https://public.tableau.com/views/412demo/Sheet1?:showVizHome=no&amp;:embed=true" width="100%" height="600"></iframe></div></div></div><div class=" idyll-text-container"><div class="idyll-scroll-text"><div class="idyll-step "><p>
    To create this scrolling segment of the document, we first specify a <code>Scroller</code> component, which can just be done with <code>[Scroller] ... [/Scroller]</code>. The text and visualizations seen here are specified within this component.
  </p></div><div class="idyll-step "><p>
    The background is that same Tableau map visualization from earlier, but displayed at a larger size.
  </p></div><div class="idyll-step "><p>
    To set the background, you can use a <code>Graphic</code> component to wrap the <code>TableauEmbed</code> component from earlier.
  </p></div><div class="idyll-step "><p>
    The contents for these text boxes are described with the <code>Step</code> component, and can even include other components like the visualizations from before!</p><div></div></div><div class="idyll-step "><p>
    Take a look in the <code>index.idyll</code> file to see exactly how this works in the code, and keep scrolling for more examples.
  </p></div></div></div></div><div class=" idyll-text-container"><p>Idyll allows you to mix and match components throughout the document to create dynamic visualizations and compelling narrative layouts. Some other layout options include <a href="https://idyll-lang.org/docs/component/full-width">FullWidth</a>, <a href="https://idyll-lang.org/docs/component/inline">Inline</a>, and <a href="https://idyll-lang.org/docs/component/stepper">Stepper</a>, among others. Details are included on <a href="https://idyll-lang.org/docs/components">Idyll’s documentation page for built-in components</a>.</p><p>This page also describes a variety of the other built-in components for controlling the dynamic behavior of the document, such as <a href="https://idyll-lang.org/docs/component/dynamic">dynamic variables</a> and input widgets like (<a href="https://idyll-lang.org/docs/component/button">buttons</a>, <a href="https://idyll-lang.org/docs/component/range">range sliders</a>, and <a href="https://idyll-lang.org/docs/component/select">dropdowns</a>).</p><p>Let’s take a look at some dynamic visualization updates with another scrollytelling example. In this case, we will use a fixed visualization alongside the text and update the visualization as we go. Keep scrolling to see the example...</p></div><div class="idyll-scroll" id="idyll-scroll-2" style="position:relative"><div class="idyll-scroll-graphic" style="top:0;left:0;right:0;bottom:auto;width:100%;transform:translate3d(0, 0, 0);z-index:-1;height:0"><div style="width:0;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)"><div class="d3-component-container"><div class="d3-component" style="width:100%"></div></div></div></div><div class=" idyll-text-container"><div class="idyll-scroll-text"><div class="idyll-step "><p>
    This <code>Scroller</code> uses some custom CSS to set the background color to ”#1f2833″ <div style="display:inline-block"><div style="background:#1f2833;width:12px;height:12px" idyll="[object Object]"></div></div>.
  </p></div><div class="idyll-step "><p>
    It also uses custom CSS to style the <code>Graphic</code> (which is a custom D3 component) so that it appears as a fixed visualization next to the scrolling text.
  </p></div><div class="idyll-step "><p>
    What’s cool about this <code>CustomD3Component</code> is that it updates as we scroll. It does this by leveraging the <code>update</code> function to animate the point as it moves to a new position.
  </p></div><div class="idyll-step "><p>
    To keep track of where we are in the <code>Scroller</code>, we first defined a dynamic Idyll variable named <code>myLocation</code> using the following code: <code>[var name:&quot;myLocation&quot; value:0 /]</code></p></div><div class="idyll-step "><p>
    Each time we scroll to a new <code>Step</code>, the <code>Graphic</code> updates it state based on this dynamic variable, which can be used to parameterize the visualization.
  </p></div><div class="idyll-step "><p>
    Right now, the value of <code>myLocation</code> is <span class="idyll-display">0.00</span>. Cool huh?</p><span style="color:#aaa;font-style:italic" idyll="[object Object]">If you scroll back and forth between this <code>Step</code> and the previous one, notice how the value that is displayed changes based on when the new <code>Step</code> is triggered.</span></div></div></div></div><div class=" idyll-text-container"><br/><p>You can really put anything in these dynamic variables. For example, the Vega-Lite visualization we keep using could have been in a variable.</p><div></div><p>There’s a better way, though. What if we create our own new custom component? This way we can seperate out our visualizations into different files. See <code>components/my-viz.js</code> for the following example.</p><span style="color:#aaa;font-style:italic" idyll="[object Object]">How did we know how to write that file? We looked at the <a href="https://github.com/idyll-lang/idyll-vega-lite/blob/master/index.js">source code</a> of idyll-vega-lite. Idyll and its surrounding packages have their source on GitHub if you’re ever curious.</span><div></div><p>You can also use the Vega-Lite API like in the following example, found in <code>components/my-api-viz.js</code>.</p><div></div><h1 id="getting-started-with-your-project">Getting Started with Your Project</h1><p>This template is a starting place for your project. Update the header information to include the relevant details for your project, and then feel free to mix and match the visualization and layout techniques introduced here for your own narrative. Use this template and especially the <a href="https://idyll-lang.org/docs">Idyll documentation</a> as a reference for what you can do.</p><p>Think about how the narrative structure draws readers into the story you are telling and how the visualizations interact with the text (and with each other). The narrative should help ensure that the page as a whole is greater than just the sum of its parts. When designing your page, decide on particular layouts that enhance the reader’s experience and understanding of the topic.</p><h2 id="required-software">Required Software</h2><p><span>You must have Node.js installed. You can get it directly from <a href="https://nodejs.org/en/.">https://nodejs.org/en/.</a></span></p><h2 id="installation">Installation</h2><ul><li>Clone and open your project repo on your own computer.</li><li>Make sure you have <code>idyll</code> installed (<code>npm i -g idyll</code>).</li><li>Run <code>npm install</code> to install project-specific dependencies.</li></ul><p>
npm is the node package manager. If you’re curious how this works and what the project dependencies are, open up <code>package.json</code> to see where these are listed.</p><p>You can install custom dependencies by running <code>npm install &lt;package-name&gt; --save</code>. Note that any collaborators will also need to download the package locally by running <code>npm install</code> after pulling the changes.</p><h2 id="developing-a-post-locally">Developing a post locally</h2><p>Run <code>idyll</code> from the command line. Your post will appear at <a href="http://localhost:3000/">http://localhost:3000/</a>. When the server is running, any local change that you make will be deteched and your webpage will auto-update with the new changes. Your local changes will not be visible to your team members until you push the changes to your repository. These changes will not be reflected in the final website unless you run the build script and push the updated docs folder (see below).</p><h2 id="building-a-post-for-production">Building a post for production</h2><p>Run <code>idyll build</code>. The output will appear in the top-level <code>build</code> folder. To change the output location, change the <code>output</code> option in <code>package.json</code>, such as to <code>docs</code>.</p><h2 id="deploying">Deploying</h2><p>Make sure your post has been built, then commit the <code>docs</code> folder to your project repository. It will be available at <a href="">cse412-21sp.github.io/your-repo-name/</a>. For example, you can view the sample embedded Tableau, vega-lite, and d3 charts at <a href="https://jhoffswell.github.io/cse412-project-template-idyll/">https://jhoffswell.github.io/cse412-project-template-idyll/</a>.</p><h4 id="acknowledgements">Acknowledgements</h4><p>This template was adapted from the initial Scrollytelling template for Idyll. The code and visualization examples were adapted from the <a href="https://github.com/cse412-21w/project-demo">final project template</a> created for a previous offering of CSE 412.</p></div></div></div></div>
    <script src="static/idyll_index.js"></script>
  </body>
</html>
